<!DOCTYPE html>
<html>
<head lang="ko" dir="ltr">
  <meta charset="utf-8">
  <title>선행처리기</title>
  <link rel="stylesheet" href="../_css/cp2.css" /> <!-- 고급 C 관련 css -->
  <link rel="stylesheet" href="../_css/modal.css"> <!-- 로그인 관련 css -->
  <script
    src="https://code.jquery.com/jquery-3.4.1.js"
    integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
    crossorigin="anonymous"></script>
  <style>
  section > div:nth-child(1) { /* 사이드 메뉴에서 소제목 부분을 돋보이게 하기위한 처리 */
    height: 40px;
    padding: 40px 0;
  }
  </style>
</head>
<body>

  <!-- 상단 헤더(SCP School) 부분 -->
  <header>
    <div id="title" onClick="window.location.href = '../main.html';">
      SCP School
    </div>
    <!-- 로그인 관련 부분 -->
    <div id="regbtn" onClick="ShowReg();">회원가입</div>
    <div id="resignbtn" onClick="resign();">회원탈퇴</div>
    <div id="loginbtn" onClick="ShowAuth();">로그인</div>
    <div id="logoutbtn" onClick="logout();">로그아웃</div>
  </header>

  <!-- 상단 탭 메뉴 -->
  <nav>
    <div onClick="window.location.href = '../main.html';">
      SCP 메인
    </div>
    <div onclick="window.location.href = '../html_intro/intro_1.html';">
      SCP 소개
    </div>
    <div onclick="window.location.href = '../html_cp1/1-1.html';">
      일반 C
    </div>
    <div id="subtitle" onclick="window.location.href = 'memory_structure.html';">
      고급 C
    </div>
    <div onclick="window.location.href = '../faq.html';">
      FAQ
    </div>
    <div>
    </div>
  </nav>

  <!-- 사이드(왼쪽) 메뉴 -->
  <section>
    <div>47) 선행처리기</div>
    <div class="category">9. 메모리의 관리</div>
    <div class="sub_category" onclick="window.location.href = 'memory_structure.html';">&nbsp&nbsp32) 메모리의 구조</div>
    <div class="sub_category" onclick="window.location.href = 'memory_stackframe.html';">&nbsp&nbsp33) 스택 프레임</div>
    <div class="sub_category" onclick="window.location.href = 'memory_malloc.html';">&nbsp&nbsp34) 메모리의 동적 할당</div>
    <div class="category">10. 문자와 문자열</div>
    <div class="sub_category" onclick="window.location.href = 'string_io.html';">&nbsp&nbsp35) 기본적인 입출력</div>
    <div class="sub_category" onclick="window.location.href = 'string_charFunc.html';">&nbsp&nbsp36) 문자 입출력 함수</div>
    <div class="sub_category" onclick="window.location.href = 'string_string.html';">&nbsp&nbsp37) 문자열</div>
    <div class="sub_category" onclick="window.location.href = 'string_strFunc.html';">&nbsp&nbsp38) 문자열 입출력 함수</div>
    <div class="sub_category" onclick="window.location.href = 'string_handling.html';">&nbsp&nbsp39) 문자열 처리 함수</div>
    <div class="category">11. 구조체</div>
    <div class="sub_category" onclick="window.location.href = 'struct_intro.html';">&nbsp&nbsp40) 구조체의 기본</div>
    <div class="sub_category" onclick="window.location.href = 'struct_pointer.html';">&nbsp&nbsp41) 포인터와 구조체</div>
    <div class="sub_category" onclick="window.location.href = 'struct_application.html';">&nbsp&nbsp42) 구조체의 활용</div>
    <div class="sub_category" onclick="window.location.href = 'struct_unionEnum.html';">&nbsp&nbsp43) 공용체와 열거체</div>
    <div class="category">12. 입력과 출력</div>
    <div class="sub_category" onclick="window.location.href = 'io_console.html';">&nbsp&nbsp44) 콘솔 입출력</div>
    <div class="sub_category" onclick="window.location.href = 'io_file.html';">&nbsp&nbsp45) 파일 입출력</div>
    <div class="sub_category" onclick="window.location.href = 'io_fileIOFunction.html';">&nbsp&nbsp46) 파일 입출력 함수</div>
    <div class="category">13. 선행처리</div>
    <div id="now" onclick="window.location.href = 'prepro_preprocessor.html';">&nbsp&nbsp47) 선행처리기</div>
    <div class="sub_category" onclick="window.location.href = 'prepro_macroFunc.html';">&nbsp&nbsp48) 매크로 함수</div>
    <div class="sub_category" onclick="window.location.href = 'prepro_preMacro.html';">&nbsp&nbsp49) 미리 정의된 매크로</div>
    <div class="category">14. 컴파일</div>
    <div class="sub_category" onclick="window.location.href = 'compile_headerFile.html';">&nbsp&nbsp50) 헤더 파일</div>
    <div class="sub_category" onclick="window.location.href = 'compile_module.html';">&nbsp&nbsp51) 분할 컴파일</div>
    <div class="sub_category" onclick="window.location.href = 'compile_condCompile.html';">&nbsp&nbsp52) 조건부 컴파일</div>
  </section>

  <!-- 본문 내용 -->
  <article>
    <div>
      <!-- 다음 강좌로 이동하는 버튼 -->
      <a href="prepro_macroFunc.html"><div class="button" id="next">다음 ▶</div></a>
      <!-- 이전 강좌로 이동하는 버튼 -->
      <a href="io_fileIOFunction.html"><div class="button" id="prev">◀ 이전</div></a>

      <br/><br/>

      <!-- 강좌 내용 -->
      <h2>선행처리기</h2>

      <hr />
      <h3>선행처리(preprocess)란?</h3>
      <p>선행처리란 실행 파일을 생성하는 과정에서 소스 파일 내에 존재하는 선행처리 지시문을 처리하는 작업을 의미합니다.</p>
      <p>이러한 선행처리 작업은 컴파일하기 전 선행처리기(preprocessor)에 의해 먼저 처리됩니다.</p>
      <p>선행처리기는 코드를 생성하는 것이 아니라, 컴파일러가 컴파일하기 좋도록 소스를 재구성해 주는 역할만을 합니다.</p>

      <p>&nbsp;</p>
      <p>C언어의 실행 파일 생성 순서에 대한 더 자세한 사항은 C언어 C 프로그래밍 수업에서 확인할 수 있습니다.</p>
      <p>&nbsp;</p>
      <p><a href="../html_cp1/1-3.html" target="_blank">C언어 C 프로그래밍 수업 확인 =&gt;</a></p>

      <hr />
      <h3>선행처리문의 특징</h3>
      <p>1. 선행처리문은 선행처리 문자(#)로 시작합니다.</p>
      <p>2. 선행처리문은 코드 내에서 하나의 라인을 모두 차지하며, 선행처리문 뒤에 C언어 코드를 추가하여 같이 사용할 수 없습니다.</p>
      <p>3. 선행처리문은 다른 C언어의 명령문과는 달리 맨 뒤에 세미콜론(;)을 붙이지 않습니다.</p>
      <p>4. 선행처리문은 소스 파일 어디에나 위치할 수 있지만, 선행처리문이 위치한 곳에서부터 파일의 끝까지만 영향을 미칩니다.</p>

      <p>&nbsp;</p>
      <div class="tip">단, 주석은 같은 라인의 선행처리문 뒤에 위치할 수 있습니다.</div>

      <hr />
      <h3>선행처리 지시자(preprocessing directives)</h3>
      <p>선행처리 문자(#)로 시작하는 선행처리 지시자는 다음과 같습니다.</p>

      <table class="tb-2">
        <thead>
          <tr>
            <th>선행처리 지시자</th>
            <th>설명</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>#include</td>
            <td>외부에 선언된 함수나 상수 등을 사용하기 위해, 함수나 상수가 포함된 외부 파일을 현재 파일에 포함할 때 사용함.</td>
          </tr>
          <tr>
            <td>#define</td>
            <td>함수나 상수를 단순화해주는 매크로를 정의할 때 사용함.</td>
          </tr>
          <tr>
            <td>#undef</td>
            <td>#define 지시자로 이미 정의된 매크로를 삭제할 때 사용함.</td>
          </tr>
          <tr>
            <td>#line</td>
            <td>__LINE__ 매크로와 __FILE__ 매크로를 재정의할 때 사용함.</td>
          </tr>
          <tr>
            <td>#error</td>
            <td>지정한 오류 메시지를 출력하고, 컴파일 과정을 중단하고자 할 때 사용함.</td>
          </tr>
          <tr>
            <td>#pragma</td>
            <td>프로그램의 이식성을 위해 운영체제별로 달라지는 지시사항을 컴파일러에 전달할 때 사용함.</td>
          </tr>
          <tr>
            <td>#if, #ifdef, #ifndef,<br/>#elif, #else, #endif</td>
            <td>조건부 컴파일 지시자</td>
          </tr>
        </tbody>
      </table>

      <hr />
      <h3>#include</h3>
      <p>#include 선행처리 지시자는 외부에 선언된 함수나 상수 등을 사용하기 위해서 헤더 파일을 현재 파일에 포함할 때 사용합니다.</p>
      <p>선행처리기는 #include 지시자 뒤에 나오는 파일 이름을 보고 해당 파일을 찾아서 그 내용을 현재 파일에 포함해 줍니다.</p>
      <p>&nbsp;</p>
      <p>#include 선행처리 지시문에서 파일 이름을 표시하는 방법에는 다음과 같이 두 가지 방법이 있습니다.</p>

      <p>&nbsp;</p>
      <p>1. #include &lt;stdio.h&gt;</p>
      <p>2. #include &quot;myStdio.h&quot;</p>
      <p>&nbsp;</p>
      <p>C언어에서 제공하는 표준 헤더 파일을 포함할 때에는 보통 꺾쇠괄호(&lt;&gt;)를 사용합니다.</p>
      <p>꺾쇠괄호를 사용하여 파일 이름을 표시하면, 선행처리기는 가장 먼저 표준 시스템 디렉터리에서 파일 이름에 해당하는 헤더 파일을 찾습니다.</p>
      <p>하지만 표준 시스템 디렉터리에서 파일 이름에 해당하는 헤더 파일을 찾지 못하면, 현재 작업 디렉터리도 검색합니다.</p>

      <p>&nbsp;</p>
      <p>사용자가 직접 작성한 헤더 파일을 포함할 때에는 보통 큰따옴표(&quot;&quot;)를 사용합니다.</p>
      <p>큰따옴표를 사용하여 파일 이름을 표시하면, 선행처리기는 가장 먼저 현재 작업 디렉터리에서 파일 이름에 해당하는 헤더 파일을 찾습니다.</p>
      <p>하지만 파일 이름에 해당하는 헤더 파일을 찾지 못하면, 표준 시스템 디렉터리도 검색합니다.</p>

      <p>&nbsp;</p>
      <p>따라서 결과적으로 이 두 방법에 큰 차이는 없지만, 많은 개발자가 이 기준에 맞춰 코드를 작성하고 있습니다.</p>

      <hr />
      <h3>#define</h3>
      <p>#define 선행처리 지시자는 함수나 상수를 단순화해주는 매크로를 정의할 때 사용합니다.</p>
      <p>매크로는 함수나 상수에 이름을 붙임으로써, 해당 매크로가 무엇을 가리키고 있는지를 명확하게 나타내 줍니다.</p>
      <p>따라서 코드의 가독성을 증가시키고, 코드를 훨씬 더 읽기 편하게 해줍니다.</p>

      <p>&nbsp;</p>
      <p>#define 지시자의 문법은 다음과 같습니다.</p>

      <div class="syntax">
        <h4>문법</h4>
        <p class="textarea"><span style="color: #339933;">#define 식별자 대체리스트</span></p>
      </div>

      <p>&nbsp;</p>
      <p>선행처리기는 #define 선행처리 지시문의 식별자(identifier)를 단순히 대체 리스트(replacement-list)로 치환해 주기만 합니다.</p>
      <p>이러한 과정을 매크로 확장(macro expansion)이라고 합니다.</p>
      <p>&nbsp;</p>

      <p>#define 선행처리 지시문에서 식별자는 매크로(macro)라고 부르는 사용자가 미리 정의한 약어입니다.</p>
      <p>이때 매크로 이름인 식별자는 C언어의 변수 이름 생성 규칙과 똑같은 생성 규칙을 따라서 작성해야 합니다.</p>
      <p>따라서 매크로 이름 중간에는 공백을 넣을 수 없지만, 실제값은 공백을 가질 수 있습니다.</p>
      <p>또한, 매크로끼리 중첩하여 사용할 수도 있습니다.</p>

      <p>&nbsp;</p>
      <p>C언어의 변수 이름 생성 규칙에 대한 더 자세한 사항은 C언어 변수 수업에서 확인할 수 있습니다.</p>

      <p>&nbsp;</p>
      <p><a href="../html_cp1/2-7.html" target="_blank">C언어 변수 수업 확인 =&gt;</a></p>

      <p>&nbsp;</p>
      <div class="tip">단, 문자열에 포함된 매크로 이름에 대한 치환 작업은 이루어지지 않습니다.</div>

      <div class="codding-test">
        <h4>예제</h4>
        <p class="textarea"><span style="color: #339933;">#include &lt;stdio.h&gt;</span></p>
        <p class="textarea"><span style="color: #339933;">#define PI 3.14</span> &nbsp;</p>
        <p class="textarea">&nbsp;</p>
        <p class="textarea"><span style="color: #993333;">int</span> main<span style="color: #009900;">(</span><span style="color: #993333;">void</span><span style="color: #009900;">)</span></p>
        <p class="textarea"><span style="color: #009900;">{</span></p>
        <p class="textarea"><span style="color: #993333;">&nbsp; &nbsp; double</span> radius <span style="color: #339933;">=</span> <span style="color: #0000dd;">12</span><span style="color: #339933;">;</span> &nbsp;</p>
        <p class="textarea">&nbsp;</p>
        <p class="textarea"><span style="color: #993333;">&nbsp; &nbsp; </span><span style="color: #000066;">printf</span><span style="color: #009900;">(</span><span style="color: #ff0000;">&quot;원주율을 나타내는 PI의 값은 %.2f입니다.<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> PI<span style="color: #009900;">)</span><span style="color: #339933;">;</span></p>
        <p class="textarea"><span style="color: #993333;">&nbsp; &nbsp; </span><span style="color: #000066;">printf</span><span style="color: #009900;">(</span><span style="color: #ff0000;">&quot;원의 면적은 %.2f * %.2f * %.2f = %.2f입니다.<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> PI<span style="color: #339933;">,</span> radius<span style="color: #339933;">,</span> radius<span style="color: #339933;">,</span> PI <span style="color: #339933;">*</span> radius <span style="color: #339933;">*</span> radius<span style="color: #009900;">)</span><span style="color: #339933;">;</span></p>
        <p class="textarea"><span style="color: #993333;">&nbsp; &nbsp; </span><span style="color: #b1b100;">return</span> <span style="color: #0000dd;">0</span><span style="color: #339933;">;</span></p>
        <p class="textarea"><span style="color: #009900;">}</span></p>
      </div>

      <div class="syntax">
        <h4>실행 결과</h4>
        <p class="textarea">원주율을 나타내는 PI의 값은 3.14입니다.</p>
        <p class="textarea">원의 면적은 3.14 * 12.00 * 12.00 = 452.16입니다.</p>
      </div>

      <p>&nbsp;</p>
      <p>위의 예제에서 PI라는 매크로는 3.14로 전부 단순 치환됩니다.</p>
      <p>하지만 문자열에 포함된 PI라는 문자는 이러한 치환 작업에서 제외됩니다.</p>
      <p>&nbsp;</p>
      <p>위처럼 값을 나타내는 매크로를 객체 같은 매크로(object-like macro)라고도 합니다.</p>

      <hr />
      <br/><br/>

      <!-- 다음 강좌로 이동하는 버튼 -->
      <a href="prepro_macroFunc.html"><div class="button" id="next">다음 ▶</div></a>
      <!-- 이전 강좌로 이동하는 버튼 -->
      <a href="io_fileIOFunction.html"><div class="button" id="prev">◀ 이전</div></a>

      <!-- 댓글 -->
      <div id="reply">
        <textarea id="replycontent"></textarea>
        <div id="submitreply">작성</div>
      </div>

    </div>
  </article>

  <!-- 로그인 모달창 -->
  <div class="modal" id="auth">
    <div class="auth-content">
      <h2> SCP School - Login </h2>
      <form>
        <input id="authid" type="text" name="id" placeholder="아이디"></input>
        <input id="authpw" type="password" name="pw" placeholder="비밀번호"></input>
      </form>
      <p>
        아이디, 비밀번호를 잊어버렸을 경우 smyun99hyper@naver.com로 문의하세요.
        </br>
        <b>주의: Internet Explorer에서는 회원가입 / 로그인이 불가능합니다</b>
      </p>
      <div onclick="login();">로그인</div>
    </div>
  </div>

  <!-- 회원가입 모달창 -->
  <div class="modal" id="reg">
    <div class="reg-content">
        <h2> SCP School - Register </h2>
        <form>
          <input id="regid" type="text" name="id" placeholder="아이디"></input>
          <input id="regpw" type="password" name="pw" placeholder="비밀번호"></input>
          <input id="regpwck" type="password" name="pwck" placeholder="비밀번호 확인"></input>
          <input type="text" name="studentnum" placeholder="학번"></input>
          <input type="text" name="studentname" placeholder="성명"></input>
          <input type="text" name="studentdept" placeholder="학과"></input>
        </form>
        <p>
          아이디, 비밀번호를 잊어버렸을 경우 다음 연락처로 문의 바랍니다.
          <br/>
          사이트 관리자 연락처 : smyun99hyper@naver.com
          <br/>
          <br/>
          <b>주의: Internet Explorer에서는 회원가입 / 로그인이 불가능합니다</b>
        </p>
        <div onclick="register();">회원가입</div>
    </div>
  </div>
  <div id="remoteup" onclick="location.href='#title'"></div><div id="remotedown" onclick="location.href='#reply'"></div>
  <script src="../_js/modal.js"></script>
  </body>
</html>
