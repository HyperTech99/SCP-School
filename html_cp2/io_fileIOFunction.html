<!DOCTYPE html>
<html>
<head lang="ko" dir="ltr">
  <meta charset="utf-8">
  <title>파일 입출력 함수</title>
  <link rel="stylesheet" href="../_css/cp2.css" /> <!-- 고급 C 관련 css -->
  <link rel="stylesheet" href="../_css/modal.css"> <!-- 로그인 관련 css -->
  <script
    src="https://code.jquery.com/jquery-3.4.1.js"
    integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
    crossorigin="anonymous"></script>
  <style>
  section > div:nth-child(1) { /* 사이드 메뉴에서 소제목 부분을 돋보이게 하기위한 처리 */
    height: 80px;
    padding: 20px 0;
  }
  </style>
</head>
<body>
  <!-- 상단 헤더(SCP School) 부분 -->
  <header>
    <div id="title" onClick="window.location.href = '../main.html';">
      SCP School
    </div>
    <!-- 로그인 관련 부분 -->
    <div id="regbtn" onClick="ShowReg();">회원가입</div>
    <div id="resignbtn" onClick="resign();">회원탈퇴</div>
    <div id="loginbtn" onClick="ShowAuth();">로그인</div>
    <div id="logoutbtn" onClick="logout();">로그아웃</div>
  </header>

  <!-- 상단 탭 메뉴 -->
  <nav>
    <div onClick="window.location.href = '../main.html';">
      SCP 메인
    </div>
    <div onclick="window.location.href = '../html_intro/intro_1.html';">
      SCP 소개
    </div>
    <div onclick="window.location.href = '../html_cp1/1-1.html';">
      일반 C
    </div>
    <div id="subtitle" onclick="window.location.href = 'memory_structure.html';">
      고급 C
    </div>
    <div onclick="window.location.href = '../faq.html';">
      FAQ
    </div>
    <div>
    </div>
  </nav>

  <!-- 사이드(왼쪽) 메뉴 -->
  <section>
    <div>46) 파일 입출력<br/>함수</div>
    <div class="category">9. 메모리의 관리</div>
    <div class="sub_category" onclick="window.location.href = 'memory_structure.html';">&nbsp&nbsp32) 메모리의 구조</div>
    <div class="sub_category" onclick="window.location.href = 'memory_stackframe.html';">&nbsp&nbsp33) 스택 프레임</div>
    <div class="sub_category" onclick="window.location.href = 'memory_malloc.html';">&nbsp&nbsp34) 메모리의 동적 할당</div>
    <div class="category">10. 문자와 문자열</div>
    <div class="sub_category" onclick="window.location.href = 'string_io.html';">&nbsp&nbsp35) 기본적인 입출력</div>
    <div class="sub_category" onclick="window.location.href = 'string_charFunc.html';">&nbsp&nbsp36) 문자 입출력 함수</div>
    <div class="sub_category" onclick="window.location.href = 'string_string.html';">&nbsp&nbsp37) 문자열</div>
    <div class="sub_category" onclick="window.location.href = 'string_strFunc.html';">&nbsp&nbsp38) 문자열 입출력 함수</div>
    <div class="sub_category" onclick="window.location.href = 'string_handling.html';">&nbsp&nbsp39) 문자열 처리 함수</div>
    <div class="category">11. 구조체</div>
    <div class="sub_category" onclick="window.location.href = 'struct_intro.html';">&nbsp&nbsp40) 구조체의 기본</div>
    <div class="sub_category" onclick="window.location.href = 'struct_pointer.html';">&nbsp&nbsp41) 포인터와 구조체</div>
    <div class="sub_category" onclick="window.location.href = 'struct_application.html';">&nbsp&nbsp42) 구조체의 활용</div>
    <div class="sub_category" onclick="window.location.href = 'struct_unionEnum.html';">&nbsp&nbsp43) 공용체와 열거체</div>
    <div class="category">12. 입력과 출력</div>
    <div class="sub_category" onclick="window.location.href = 'io_console.html';">&nbsp&nbsp44) 콘솔 입출력</div>
    <div class="sub_category" onclick="window.location.href = 'io_file.html';">&nbsp&nbsp45) 파일 입출력</div>
    <div id="now" onclick="window.location.href = 'io_fileIOFunction.html';">&nbsp&nbsp46) 파일 입출력 함수</div>
    <div class="category">13. 선행처리</div>
    <div class="sub_category" onclick="window.location.href = 'prepro_preprocessor.html';">&nbsp&nbsp47) 선행처리기</div>
    <div class="sub_category" onclick="window.location.href = 'prepro_macroFunc.html';">&nbsp&nbsp48) 매크로 함수</div>
    <div class="sub_category" onclick="window.location.href = 'prepro_preMacro.html';">&nbsp&nbsp49) 미리 정의된 매크로</div>
    <div class="category">14. 컴파일</div>
    <div class="sub_category" onclick="window.location.href = 'compile_headerFile.html';">&nbsp&nbsp50) 헤더 파일</div>
    <div class="sub_category" onclick="window.location.href = 'compile_module.html';">&nbsp&nbsp51) 분할 컴파일</div>
    <div class="sub_category" onclick="window.location.href = 'compile_condCompile.html';">&nbsp&nbsp52) 조건부 컴파일</div>
  </section>

  <!-- 본문 내용 -->
  <article>
    <div>
        <!-- 다음 강좌로 이동하는 버튼 -->
        <a href="prepro_preprocessor.html"><div class="button" id="next">다음 ▶</div></a>
        <!-- 이전 강좌로 이동하는 버튼-->
        <a href="io_file.html"><div class="button" id="prev">◀ 이전</div></a>

        <br/><br/>

        <!-- 강좌 내용 -->
        <h2>파일 입출력 함수</h2>
        <hr />
        <h3>파일 입출력 함수</h3>
        <p>C언어에서 인수를 하나만 전달받는 대부분의 입출력 함수는 스트림이 stdin이나 stdout으로 고정되어 있는 함수입니다.</p>
        <p>하지만 입출력 함수 중에서 이름이 f로 시작되는 함수는 입출력 스트림을 사용자가 직접 지정할 수 있는 함수입니다.</p>
        <p>인수로 FILE 구조체 변수의 포인터를 전달함으로써 표준 입출력 장치뿐만 아니라 파일로도 입출력을 진행할 수 있습니다.</p>
        <p>&nbsp;</p>
        <p>표준 입출력 함수 중에서 스트림을 직접 지정할 수 있는 함수는 다음과 같습니다.</p>
        <p>&nbsp;</p>
        <p>1. fgetc() 함수</p>
        <p>2. fputc() 함수</p>
        <p>3. fgets() 함수</p>
        <p>4. fputs() 함수</p>
        <p>5. fscanf() 함수</p>
        <p>6. fprintf() 함수</p>

        <hr />

        <h3>fgetc() 함수</h3>
        <p>fgetc() 함수는 지정된 스트림으로부터 하나의 문자를 읽어 들이는 함수입니다.</p>
        <p>이 함수는 읽기에 성공하면 읽은 문자를 반환하고, 파일의 끝에 도달하면 EOF를 반환합니다.</p>
        <p>&nbsp;</p>
        <p>fgetc() 함수의 원형은 다음과 같습니다.</p>

        <div class="syntax">
          <h4>원형</h4>
          <p class="textarea"><span style="color: #339933;">#include &lt;stdio.h&gt;</span></p>
          <p class="textarea"><span style="color: #993333;">int</span> <span style="color: #000066;">fgetc</span><span style="color: #009900;">(</span>FILE <span style="color: #339933;">*</span>stream<span style="color: #009900;">)</span><span style="color: #339933;">;</span> &nbsp;</p>
        </div>

        <hr />

        <h3>fputc() 함수</h3>
        <p>fputc() 함수는 지정된 스트림에 문자 하나를 출력(저장)하는 함수입니다.</p>
        <p>이 함수는 저장에 성공하면 저장한 문자를 반환하고, 저장에 실패하면 EOF를 반환합니다.</p>

        <p>&nbsp;</p>
        <p>fputc() 함수의 원형은 다음과 같습니다.</p>

        <div class="syntax">
          <h4>원형</h4>
          <p class="textarea"><span style="color: #339933;">#include &lt;stdio.h&gt;</span></p>
          <p class="textarea"><span style="color: #993333;">int</span> <span style="color: #000066;">fputc</span><span style="color: #009900;">(</span><span style="color: #993333;">int</span> c<span style="color: #339933;">,</span> FILE <span style="color: #339933;">*</span>stream<span style="color: #009900;">)</span><span style="color: #339933;">;</span> &nbsp;</p>
        </div>

        <p>&nbsp;</p>
        <p>다음 예제는 fputc() 함수와 fgetc() 함수를 이용하여, 해당 파일의 모든 문자를 한 문자씩 읽어 들여 출력하는 예제입니다.</p>

        <div class="syntax">
          <h4>예제</h4>
          <p class="textarea"><span style="color: #339933;">#include &lt;stdio.h&gt;</span></p>
          <p class="textarea"><span style="color: #339933;">#include &lt;stdlib.h&gt;</span></p>
          <p class="textarea">&nbsp;</p>
          <p class="textarea"><span style="color: #993333;">int</span> main<span style="color: #009900;">(</span><span style="color: #993333;">void</span><span style="color: #009900;">)</span></p>
          <p class="textarea"><span style="color: #009900;">{</span></p>
          <p class="textarea"><span style="color:#800000;"><strong>①</strong></span>&nbsp; <span style="color: #993333;">char</span> ch<span style="color: #339933;">;</span></p>
          <p class="textarea">&nbsp;</p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;<span style="color: #808080; font-style: italic;">/* 파일 open */</span></p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;FILE<span style="color: #339933;">*</span> ptr_file <span style="color: #339933;">=</span> <span style="color: #000066;">fopen</span><span style="color: #009900;">(</span><span style="color: #ff0000;">&quot;text_readonly.txt&quot;</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;r&quot;</span><span style="color: #009900;">)</span><span style="color: #339933;">;&nbsp;</span><span style="color: #666666; font-style: italic;">// &quot;C언어 파일 입출력&quot; 문자열이 저장된 파일</span></p>
          <p class="textarea">&nbsp; &nbsp; ...</p>
          <p class="textarea">&nbsp; &nbsp;&nbsp;<span style="color: #b1b100;">if</span><span style="color: #009900;">(</span>ptr_file <span style="color: #339933;">!=</span> NULL<span style="color: #009900;">)</span></p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;<span style="color: #009900;">{</span></p>
          <p class="textarea"><span style="color:#800000;"><strong>②</strong></span>&nbsp; &nbsp; &nbsp;&nbsp;<span style="color: #b1b100;">while</span><span style="color: #009900;">(</span>EOF <span style="color: #339933;">!=</span> <span style="color: #009900;">(</span>ch <span style="color: #339933;">=</span> <span style="color: #000066;">fgetc</span><span style="color: #009900;">(</span>ptr_file<span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span> <span style="color: #666666; font-style: italic;">// fgetc() 함수를 사용하여 파일로부터 문자 한 개를 읽어들임.</span></p>
          <p class="textarea">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color: #009900;">{</span></p>
          <p class="textarea"><span style="color:#800000;"><strong>③</strong></span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color: #000066;">fputc</span><span style="color: #009900;">(</span>ch<span style="color: #339933;">,</span> stdout<span style="color: #009900;">)</span><span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #666666; font-style: italic;">// fputc() 함수를 사용하여 모니터에 문자 한 개를 출력함.</span></p>
          <p class="textarea">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color: #009900;">}</span></p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;<span style="color: #009900;">}</span></p>
          <p class="textarea">&nbsp;</p>
          <p class="textarea">&nbsp; &nbsp;&nbsp;<span style="color: #808080; font-style: italic;">/* 파일 close */</span></p>
          <p class="textarea">&nbsp; &nbsp; ...</p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;<span style="color: #b1b100;">return</span> <span style="color: #0000dd;">0</span><span style="color: #339933;">;</span></p>
          <p class="textarea"><span style="color: #009900;">}</span> &nbsp;</p>
        </div>

        <div class="syntax">
          <h4>실행 결과</h4>
          <p class="textarea">C언어 파일 입출력</p>
        </div>

        <p>&nbsp;</p>
        <p>위 예제의 ②번 라인에서는 fgetc() 함수가 반환하는 값을 char형 변수인 ch에 저장하고 있습니다.</p>
        <p>하지만 C언어의 fgetc() 함수는 char형이 아닌 int형의 값을 반환하는 함수입니다.</p>
        <p>즉, 위 예제에서는 int형으로 반환된 값을 char형 변수에 저장하는 것이므로, 반환값의 상위 3바이트가 잘려나가게 될 것입니다.</p>
        <p>&nbsp;</p>
        <p>따라서 파일의 끝에 도달했을 때 반환되는 EOF 값인 -1의 16진수 값 &#39;0xFFFFFFFF&#39;도 &#39;0xFF&#39;로 저장될 것입니다.</p>
        <p>그러므로 while 문은 현재 파일의 끝인 EOF를 읽은 것인지, 아니면 단순히 16진수 데이터인 &#39;0xFF&#39;를 읽은 것인지를 알 수가 없게 됩니다.</p>
        <p>&nbsp;</p>

        <p>또한, EOF와 변수 ch를 비교할 때 EOF는 int형 값이므로, 변수 ch의 char형 값은 int형 값으로 자동 변환됩니다.</p>
        <p>이때 만약 변수 ch가 signed char형이라면, EOF는 &#39;0xFFFFFFFF&#39;로 제대로 변환되므로 별문제가 발생하지 않습니다.</p>

        <p>하지만 변수 ch가 unsigned char형이라면, EOF는 &#39;0x000000FF&#39;로 변환되므로 위의 while 문은 무한히 반복될 것입니다.</p>
        <p>&nbsp;</p>

        <p>위와 같은 문제점을 가지고 있으므로, fgetc() 함수의 반환값은 다음과 같이 반드시 int형 변수로 저장해야 합니다.</p>

        <div class="syntax">
          <h4>예제</h4>
          <p class="textarea"><span style="color: #993333;">int</span> main<span style="color: #009900;">(</span><span style="color: #993333;">void</span><span style="color: #009900;">)</span></p>
          <p class="textarea"><span style="color: #009900;">{</span></p>
          <p class="textarea"><span style="color:#800000;"><strong>①</strong></span>&nbsp; <span style="color: #993333;">int</span>&nbsp;ch<span style="color: #339933;">;</span></p>
          <p class="textarea">&nbsp; &nbsp; ...</p>
          <p class="textarea">&nbsp; &nbsp;&nbsp;<span style="color: #b1b100;">if</span><span style="color: #009900;">(</span>ptr_file <span style="color: #339933;">!=</span> NULL<span style="color: #009900;">)</span></p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;<span style="color: #009900;">{</span></p>
          <p class="textarea"><font color="#800000"><b>&nbsp;&nbsp;</b></font> &nbsp; &nbsp; &nbsp;<span style="color: #b1b100;">while</span><span style="color: #009900;">(</span>EOF <span style="color: #339933;">!=</span> <span style="color: #009900;">(</span>ch <span style="color: #339933;">=</span> <span style="color: #000066;">fgetc</span><span style="color: #009900;">(</span>ptr_file<span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span> <span style="color: #666666; font-style: italic;">// fgetc() 함수를 사용하여 파일로부터 문자 한 개를 읽어들임.</span></p>
          <p class="textarea">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color: #009900;">{</span></p>
          <p class="textarea">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color: #000066;">fputc</span><span style="color: #009900;">(</span>ch<span style="color: #339933;">,</span> stdout<span style="color: #009900;">)</span><span style="color: #339933;">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #666666; font-style: italic;">// fputc() 함수를 사용하여 모니터에 문자 한 개를 출력함.</span></p>
          <p class="textarea">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="color: #009900;">}</span></p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;<span style="color: #009900;">}</span></p>
          <p class="textarea">&nbsp; &nbsp; ...</p>
          <p class="textarea"><span style="color: #009900;">}</span></p>
        </div>

        <hr />

        <h3>fgets() 함수</h3>
        <p>fgets() 함수는 지정된 스트림으로부터 문자열을 읽어 들이는 함수입니다.</p>
        <p>&nbsp;</p>
        <p>fgets() 함수의 원형은 다음과 같습니다.</p>

        <div class="syntax">
          <h4>원형</h4>
          <p class="textarea"><span style="color: #339933;">#include &lt;stdio.h&gt;</span></p>
          <p class="textarea"><span style="color: #993333;">char</span> <span style="color: #339933;">*</span><span style="color: #000066;">fgets</span><span style="color: #009900;">(</span><span style="color: #993333;">char</span> <span style="color: #339933;">*</span> restrict s<span style="color: #339933;">,</span> <span style="color: #993333;">int</span> n<span style="color: #339933;">,</span> FILE <span style="color: #339933;">*</span> restrict stream<span style="color: #009900;">)</span></p>
        </div>

        <p>&nbsp;</p>
        <p>이 함수의 첫 번째 인수는 읽은 문자열이 저장될 주소이며, 세 번째 인수는 스트림을 결정할 FILE 구조체 변수의 포인터입니다.</p>
        <p>두 번째 인수로 전달받은 최대 입력 문자 개수보다 하나 적은 수의 문자를 읽거나, 파일의 끝에 도달할 때까지 문자를 읽습니다.</p>
        <p>이 함수는 읽기에 성공하면 읽은 문자열이 저장된 주소를 반환하고, 파일의 끝에 도달하거나 읽기에 실패하면 NULL을 반환합니다.</p>

        <p>&nbsp;</p>
        <p>fgets() 함수는 문자를 읽어 들이는 도중에 개행 문자(&#39;\n&#39;)를 만나게 되면 곧바로 읽기를 종료합니다.</p>
        <p>그리고 지금까지 읽어 들인 문자들이 C언어에서 문자열로 인식되도록 맨 마지막에 널 문자(&#39;\0&#39;)를 자동으로 추가해 줍니다.</p>

        <hr />
        <h3>fputs() 함수</h3>
        <p>fputs() 함수는 지정된 스트림에 문자열을 출력(저장)하는 함수입니다.</p>
        <p>&nbsp;</p>

        <p>fputs() 함수의 원형은 다음과 같습니다.</p>
        <div class="syntax">
          <h4>원형</h4>
          <p class="textarea"><span style="color: #339933;">#include &lt;stdio.h&gt;</span></p>
          <p class="textarea"><span style="color: #993333;">int</span> <span style="color: #000066;">fputs</span><span style="color: #009900;">(</span><span style="color: #993333;">const</span> <span style="color: #993333;">char</span> <span style="color: #339933;">*</span> restrict s<span style="color: #339933;">,</span> FILE <span style="color: #339933;">*</span> restrict stream<span style="color: #009900;">)</span><span style="color: #339933;">;</span> &nbsp;</p>
        </div>

        <p>&nbsp;</p>
        <p>이 함수의 첫 번째 인수는 쓰고자 하는 문자열의 주소이며, 두 번째 인수는 스트림을 결정할 FILE 구조체 변수의 포인터입니다.</p>
        <p>인수로 전달된 스트림이 stdout이면 모니터에 문자열을 출력하고, 파일이면 문자열을 해당 파일에 저장합니다.</p>
        <p>이 함수는 쓰기(저장)에 성공하면 음수가 아닌 값을 반환하고, 저장에 실패하면 EOF를 반환합니다.</p>

        <p>&nbsp;</p>
        <p>다음 예제는 fputs()함수와 fgets() 함수를 이용하여, 파일에서 문자열을 읽어 들여 다른 파일로 옮겨 저장하는 예제입니다.</p>

        <div class="syntax">
          <h4>예제</h4>
          <p class="textarea"><span style="color: #339933;">#include &lt;stdio.h&gt;</span></p>
          <p class="textarea"><span style="color: #339933;">#include &lt;stdlib.h&gt;</span></p>
          <p class="textarea">&nbsp;</p>
          <p class="textarea"><span style="color: #993333;">int</span> main<span style="color: #009900;">(</span><span style="color: #993333;">void</span><span style="color: #009900;">)</span></p>
          <p class="textarea"><span style="color: #009900;">{</span></p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;<span style="color: #993333;">char</span> str<span style="color: #009900;">[</span><span style="color: #0000dd;">100</span><span style="color: #009900;">]</span><span style="color: #339933;">;</span></p>
          <p class="textarea">&nbsp;</p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;<span style="color: #808080; font-style: italic;">/* 파일 open */</span></p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;FILE<span style="color: #339933;">*</span> ptr_src <span style="color: #339933;">=</span> <span style="color: #000066;">fopen</span><span style="color: #009900;">(</span><span style="color: #ff0000;">&quot;text_readonly.txt&quot;</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;r&quot;</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span></p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;FILE<span style="color: #339933;">*</span> ptr_dst <span style="color: #339933;">=</span> <span style="color: #000066;">fopen</span><span style="color: #009900;">(</span><span style="color: #ff0000;">&quot;text_writeonly.txt&quot;</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;w&quot;</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span></p>
          <p class="textarea">&nbsp; &nbsp; ...</p>
          <p class="textarea">&nbsp; &nbsp;&nbsp;<span style="color: #b1b100;">while</span><span style="color: #009900;">(</span><span style="color: #000066;">fgets</span><span style="color: #009900;">(</span>str<span style="color: #339933;">,</span> <span style="color: #0000dd;">100</span><span style="color: #339933;">,</span> ptr_src<span style="color: #009900;">)</span> <span style="color: #339933;">!=</span> NULL<span style="color: #009900;">)</span> <span style="color: #666666; font-style: italic;">// fgets() 함수를 사용하여 파일로부터 문자열을 읽어들임.</span></p>
          <p class="textarea">&nbsp; &nbsp;&nbsp;<span style="color: #009900;">{</span></p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;<span style="color: #000066;">fputs</span><span style="color: #009900;">(</span>str<span style="color: #339933;">,</span> ptr_dst<span style="color: #009900;">)</span><span style="color: #339933;">;</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span style="color: #666666; font-style: italic;">// fputs() 함수를 사용하여 파일에 문자열을 옮겨적음.</span></p>
          <p class="textarea">&nbsp; &nbsp;&nbsp;<span style="color: #009900;">}</span></p>
          <p class="textarea">&nbsp; &nbsp;&nbsp;<span style="color: #000066;">puts</span><span style="color: #009900;">(</span><span style="color: #ff0000;">&quot;text_readonly.txt 파일의 모든 내용이 text_writeonly.txt 파일로 옮겨졌습니다.&quot;</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span></p>
          <p class="textarea">&nbsp;</p>
          <p class="textarea">&nbsp; &nbsp;&nbsp;<span style="color: #808080; font-style: italic;">/* 파일 close */</span></p>
          <p class="textarea">&nbsp; &nbsp; ...</p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;<span style="color: #b1b100;">return</span> <span style="color: #0000dd;">0</span><span style="color: #339933;">;</span></p>
          <p class="textarea"><span style="color: #009900;">}</span> &nbsp;</p>
        </div>

        <div class="syntax">
          <h4>실행 결과</h4>
          <p class="textarea">파일을 성공적으로 열었습니다!</p>
          <p class="textarea">text_readonly.txt 파일의 모든 내용이 text_writeonly.txt 파일로 옮겨졌습니다.</p>
          <p class="textarea">파일을 성공적으로 닫았습니다!</p>
        </div>

        <hr />
        <h3>fscanf() 함수</h3>
        <p>fscanf() 함수는 지정된 스트림으로부터 다양한 서식 변환 문자를 이용하여 문자열을 읽어 들이는 함수입니다.</p>
        <p>&nbsp;</p>

        <p>fscanf() 함수의 원형은 다음과 같습니다.</p>

        <div class="syntax">
          <h4>원형</h4>
          <p class="textarea"><span style="color: #339933;">#include &lt;stdio.h&gt;</span></p>
          <p class="textarea"><span style="color: #993333;">int</span> <span style="color: #000066;">fscanf</span><span style="color: #009900;">(</span>FILE <span style="color: #339933;">*</span> restrict stream<span style="color: #339933;">,</span> <span style="color: #993333;">const</span> <span style="color: #993333;">char</span> <span style="color: #339933;">*</span> restrict format<span style="color: #339933;">,</span> ...<span style="color: #009900;">)</span><span style="color: #339933;">;</span> &nbsp;</p>
        </div>

        <p>&nbsp;</p>
        <p>이 함수의 첫 번째 인수는 스트림을 결정할 FILE 구조체 변수의 포인터이며, 두 번째 인수는 읽어 들일 문자열의 서식입니다.</p>
        <p>이 함수는 읽기에 성공하면 읽어 들인 변수의 개수를 반환하고, 읽기에 실패하면 EOF를 반환합니다.</p>

        <hr />
        <h3>fprintf() 함수</h3>
        <p>fprintf() 함수는 지정된 스트림에 다양한 서식 변환 문자를 이용하여 문자열을 출력(저장)하는 함수입니다.</p>

        <p>&nbsp;</p>
        <p>fprintf() 함수의 원형은 다음과 같습니다.</p>

        <div class="syntax">
          <h4>원형</h4>
          <p class="textarea"><span style="color: #339933;">#include &lt;stdio.h&gt;</span></p>
          <p class="textarea"><span style="color: #993333;">int</span> <span style="color: #000066;">fprintf</span><span style="color: #009900;">(</span>FILE <span style="color: #339933;">*</span> restrict stream<span style="color: #339933;">,</span> <span style="color: #993333;">const</span> <span style="color: #993333;">char</span> <span style="color: #339933;">*</span> restrict format<span style="color: #339933;">,</span> ...<span style="color: #009900;">)</span><span style="color: #339933;">;</span> &nbsp;</p>
        </div>

        <p>&nbsp;</p>
        <p>이 함수의 첫 번째 인수는 스트림을 결정할 FILE 구조체 변수의 포인터이며, 두 번째 인수는 출력할 문자열의 서식입니다.</p>
        <p>이 함수는 쓰기(저장)에 성공하면 저장한 문자열의 크기를 바이트 단위로 반환하고, 실패하면 음수를 반환합니다.</p>
        <p>&nbsp;</p>

        <p>다음 예제는 fprintf()함수와 fscanf() 함수를 이용해 서식에 맞춰 문자열을 읽어 들여 모니터에 출력하는 예제입니다.</p>

        <div class="syntax">
          <h4>예제</h4>
          <p class="textarea"><span style="color: #339933;">#include &lt;stdio.h&gt;</span></p>
          <p class="textarea"><span style="color: #339933;">#include &lt;stdlib.h&gt;</span></p>
          <p class="textarea">&nbsp;</p>
          <p class="textarea"><span style="color: #993333;">int</span> main<span style="color: #009900;">(</span><span style="color: #993333;">void</span><span style="color: #009900;">)</span></p>
          <p class="textarea"><span style="color: #009900;">{</span></p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;<span style="color: #993333;">int</span> scan_num<span style="color: #339933;">,</span> int_num<span style="color: #339933;">;</span></p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;<span style="color: #993333;">double</span> double_num<span style="color: #339933;">;</span></p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;<span style="color: #993333;">char</span> str<span style="color: #009900;">[</span><span style="color: #0000dd;">100</span><span style="color: #009900;">]</span><span style="color: #339933;">;</span></p>
          <p class="textarea">&nbsp;</p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;<span style="color: #808080; font-style: italic;">/* 파일 open */</span></p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;FILE<span style="color: #339933;">*</span> ptr_file <span style="color: #339933;">=</span> <span style="color: #000066;">fopen</span><span style="color: #009900;">(</span><span style="color: #ff0000;">&quot;text_fscanf.txt&quot;</span><span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;r&quot;</span><span style="color: #009900;">)</span><span style="color: #339933;">;</span></p>
          <p class="textarea">&nbsp; &nbsp; ...</p>
          <p class="textarea">&nbsp; &nbsp;&nbsp;<span style="color: #666666; font-style: italic;">// fscanf 함수를 사용하여 파일로부터 문자열을 서식에 맞춰서 읽어들임.</span></p>
          <p class="textarea"><span style="color: #666666; font-style: italic;">&nbsp;</span> &nbsp;&nbsp;<span style="color: #b1b100;">while</span><span style="color: #009900;">(</span>scan_num <span style="color: #339933;">=</span> <span style="color: #009900;">(</span><span style="color: #000066;">fscanf</span><span style="color: #009900;">(</span>ptr_file<span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;%d %lf %s&quot;</span><span style="color: #339933;">,</span> <span style="color: #339933;">&amp;</span>int_num<span style="color: #339933;">,</span> <span style="color: #339933;">&amp;</span>double_num<span style="color: #339933;">,</span> str<span style="color: #009900;">)</span><span style="color: #009900;">)</span> <span style="color: #339933;">!=</span> EOF<span style="color: #009900;">)</span></p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;<span style="color: #009900;">{</span> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;</p>
          <p class="textarea"><span style="color: #666666; font-style: italic;">&nbsp; &nbsp; &nbsp; &nbsp; // fprintf 함수를 사용하여 모니터에 서식에 맞춰서 문자열을 옮겨적음.</span> &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;</p>
          <p class="textarea"><span style="color: #666666; font-style: italic;">&nbsp; &nbsp; </span><span style="color: #666666; font-style: italic;">&nbsp; &nbsp; </span><span style="color: #000066;">fprintf</span><span style="color: #009900;">(</span>stdout<span style="color: #339933;">,</span> <span style="color: #ff0000;">&quot;%d %f %s<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span><span style="color: #339933;">,</span> int_num<span style="color: #339933;">,</span> double_num<span style="color: #339933;">,</span> str<span style="color: #009900;">)</span><span style="color: #339933;">;</span></p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;<span style="color: #009900;">}</span></p>
          <p class="textarea">&nbsp; &nbsp;&nbsp;</p>
          <p class="textarea"><span style="color: #808080; font-style: italic;">&nbsp; &nbsp; /* 파일 close */</span></p>
          <p class="textarea">&nbsp; &nbsp; ...</p>
          <p class="textarea">&nbsp;&nbsp; &nbsp;<span style="color: #b1b100;">return</span> <span style="color: #0000dd;">0</span><span style="color: #339933;">;</span></p>
          <p class="textarea"><span style="color: #009900;">}</span></p>
        </div>

        <div class="syntax">
          <h4>실행 결과</h4>
          <p class="textarea">파일을 성공적으로 열었습니다!</p>
          <p class="textarea">123 3.14 C언어</p>
          <p class="textarea">파일을 성공적으로 닫았습니다!</p>
        </div>

        <hr/>
        <br/><br/>

        <!-- 다음 강좌로 이동하는 버튼 -->
        <a href="prepro_preprocessor.html"><div class="button" id="next">다음 ▶</div></a>
        <!-- 이전 강좌로 이동하는 버튼 -->
        <a href="io_file.html"><div class="button" id="prev">◀ 이전</div></a>

        <!-- 댓글 -->
        <div id="reply">
          <textarea id="replycontent"></textarea>
          <div id="submitreply">작성</div>
        </div>

    </div>
  </article>

  <!-- 로그인 모달창 -->
  <div class="modal" id="auth">
    <div class="auth-content">
      <h2> SCP School - Login </h2>
      <form>
        <input id="authid" type="text" name="id" placeholder="아이디"></input>
        <input id="authpw" type="password" name="pw" placeholder="비밀번호"></input>
      </form>
      <p>
        아이디, 비밀번호를 잊어버렸을 경우 smyun99hyper@naver.com로 문의하세요.
        </br>
        <b>주의: Internet Explorer에서는 회원가입 / 로그인이 불가능합니다</b>
      </p>
      <div onclick="login();">로그인</div>
    </div>
  </div>

  <!-- 회원가입 모달창 -->
  <div class="modal" id="reg">
    <div class="reg-content">
        <h2> SCP School - Register </h2>
        <form>
          <input id="regid" type="text" name="id" placeholder="아이디"></input>
          <input id="regpw" type="password" name="pw" placeholder="비밀번호"></input>
          <input id="regpwck" type="password" name="pwck" placeholder="비밀번호 확인"></input>
          <input type="text" name="studentnum" placeholder="학번"></input>
          <input type="text" name="studentname" placeholder="성명"></input>
          <input type="text" name="studentdept" placeholder="학과"></input>
        </form>
        <p>
          아이디, 비밀번호를 잊어버렸을 경우 다음 연락처로 문의 바랍니다.
          <br/>
          사이트 관리자 연락처 : smyun99hyper@naver.com
          <br/>
          <br/>
          <b>주의: Internet Explorer에서는 회원가입 / 로그인이 불가능합니다</b>
        </p>
        <div onclick="register();">회원가입</div>
    </div>
  </div>
  <div id="remoteup" onclick="location.href='#title'"></div><div id="remotedown" onclick="location.href='#reply'"></div>
  <script src="../_js/modal.js"></script>
  </body>
</html>
